{"remainingRequest":"/Users/giulioraetzoswisscom/m291/M291_Code_LB02_Giulio/node_modules/babel-loader/lib/index.js!/Users/giulioraetzoswisscom/m291/M291_Code_LB02_Giulio/src/store/Webshop.js","dependencies":[{"path":"/Users/giulioraetzoswisscom/m291/M291_Code_LB02_Giulio/src/store/Webshop.js","mtime":1655904519835},{"path":"/Users/giulioraetzoswisscom/m291/M291_Code_LB02_Giulio/babel.config.js","mtime":1652865648000},{"path":"/Users/giulioraetzoswisscom/m291/M291_Code_LB02_Giulio/node_modules/cache-loader/dist/cjs.js","mtime":1652866723646},{"path":"/Users/giulioraetzoswisscom/m291/M291_Code_LB02_Giulio/node_modules/babel-loader/lib/index.js","mtime":1652866723658}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7ClZ1ZS51c2UoVnVleCk7CnZhciBiYXNlVVJMID0gImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC8iOwpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHsKICAgIHByb2R1Y3RzOiBbewogICAgICBuYW1lOiAiTmlrZSBGb290YmFsbCBTaG9lcyIsCiAgICAgIHByaWNlOiAyMjAuMDAKICAgIH0sIHsKICAgICAgbmFtZTogIk5pa2UgRm9vdGJhbGwiLAogICAgICBwcmljZTogOTAuMDAKICAgIH0sIHsKICAgICAgbmFtZTogIkplcnNleSBGQyBMaXZlcnBvb2wiLAogICAgICBwcmljZTogMTEwLjAwCiAgICB9LCB7CiAgICAgIG5hbWU6ICJJY2UgSG9ja2V5IFN0aWNrIiwKICAgICAgcHJpY2U6IDk1LjAwCiAgICB9LCB7CiAgICAgIG5hbWU6ICJJY2UgU2thdGVzIiwKICAgICAgcHJpY2U6IDEzMC4wMAogICAgfSwgewogICAgICBuYW1lOiAiVm9sbGV5YmFsbCIsCiAgICAgIHByaWNlOiA1MC4wMAogICAgfV0sCiAgICBjYXJ0OiBbXQogIH0sCiAgZ2V0dGVyczogewogICAgLyoqCiAgICAgKiBodHRwczovL3RoZWNvZGViYXJiYXJpYW4uY29tL2phdmFzY3JpcHQtcmVkdWNlLWluLTUtZXhhbXBsZXMuaHRtbAogICAgICogQHBhcmFtIHN0YXRlCiAgICAgKiBAcmV0dXJucyB7Kn0KICAgICAqLwogICAgY2FydFRvdGFsOiBmdW5jdGlvbiBjYXJ0VG90YWwoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmNhcnQucmVkdWNlKGZ1bmN0aW9uICh0b3RhbCwgaXRlbSkgewogICAgICAgIHZhciBwcm9kdWN0ID0gc3RhdGUucHJvZHVjdHMuZmluZChmdW5jdGlvbiAocCkgewogICAgICAgICAgcmV0dXJuIHAubmFtZSA9PT0gaXRlbS5uYW1lOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiB0b3RhbCArIHByb2R1Y3QucHJpY2UgKiBpdGVtLnF1YW50aXR5OwogICAgICB9LCAwKTsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgc2V0UHJvZHVjdHM6IGZ1bmN0aW9uIHNldFByb2R1Y3RzKHN0YXRlLCBwcm9kdWN0cykgewogICAgICBzdGF0ZS5wcm9kdWN0cyA9IHByb2R1Y3RzOwogICAgfSwKICAgIGFkZFRvQ2FydDogZnVuY3Rpb24gYWRkVG9DYXJ0KHN0YXRlLCBwcm9kdWN0KSB7CiAgICAgIHZhciBpbmRleCA9IHN0YXRlLmNhcnQuZmluZEluZGV4KGZ1bmN0aW9uIChwKSB7CiAgICAgICAgcmV0dXJuIHAubmFtZSA9PT0gcHJvZHVjdC5uYW1lOwogICAgICB9KTsKCiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHsKICAgICAgICBzdGF0ZS5jYXJ0W2luZGV4XS5xdWFudGl0eSsrOwogICAgICB9IGVsc2UgewogICAgICAgIHN0YXRlLmNhcnQucHVzaCh7CiAgICAgICAgICBuYW1lOiBwcm9kdWN0Lm5hbWUsCiAgICAgICAgICBxdWFudGl0eTogMQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcmVtb3ZlRnJvbUNhcnQ6IGZ1bmN0aW9uIHJlbW92ZUZyb21DYXJ0KHN0YXRlLCBwcm9kdWN0KSB7CiAgICAgIHZhciBpbmRleCA9IHN0YXRlLmNhcnQuZmluZEluZGV4KGZ1bmN0aW9uIChwKSB7CiAgICAgICAgcmV0dXJuIHAubmFtZSA9PT0gcHJvZHVjdC5uYW1lOwogICAgICB9KTsKCiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHsKICAgICAgICBzdGF0ZS5jYXJ0W2luZGV4XS5xdWFudGl0eS0tOwogICAgICAgIGlmIChzdGF0ZS5jYXJ0W2luZGV4XS5xdWFudGl0eSA9PT0gMCkgc3RhdGUuY2FydC5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB9CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBsb2FkUHJvZHVjdHM6IGZ1bmN0aW9uIGxvYWRQcm9kdWN0cyhjb250ZXh0KSB7CiAgICAgIGZldGNoKGJhc2VVUkwgKyAidjEvcHJvZHVjdHMiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAvL2NvbnNvbGUubG9nKHJlcy5qc29uKCkpOwogICAgICAgIHJldHVybiByZXMuanNvbigpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgLy9jb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICBjb250ZXh0LmNvbW1pdCgnc2V0UHJvZHVjdHMnLCBkYXRhKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0KfSk7"},{"version":3,"names":["Vue","Vuex","use","baseURL","Store","state","products","name","price","cart","getters","cartTotal","reduce","total","item","product","find","p","quantity","mutations","setProducts","addToCart","index","findIndex","push","removeFromCart","splice","actions","loadProducts","context","fetch","then","res","json","data","commit","catch","error","console"],"sources":["/Users/giulioraetzoswisscom/m291/M291_Code_LB02_Giulio/src/store/Webshop.js"],"sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nVue.use(Vuex)\nconst baseURL = \"http://localhost:3000/\";\nexport default new Vuex.Store({\n  state: {\n    products: [\n        {name: \"Nike Football Shoes\", price: 220.00},\n        {name: \"Nike Football\", price: 90.00},\n        {name: \"Jersey FC Liverpool\", price: 110.00},\n        {name: \"Ice Hockey Stick\", price: 95.00},\n        {name: \"Ice Skates\", price: 130.00},\n        {name: \"Volleyball\", price: 50.00},\n    ],\n    cart: []\n  },\n  getters: {\n    /**\n     * https://thecodebarbarian.com/javascript-reduce-in-5-examples.html\n     * @param state\n     * @returns {*}\n     */\n    cartTotal(state) {\n      return state.cart.reduce((total, item) => {\n        let product = state.products.find(p => p.name === item.name);\n        return total + (product.price * item.quantity);\n      }, 0);\n    }\n  },\n  mutations: {\n    setProducts(state, products) {\n      state.products = products;\n    },\n    addToCart(state, product) {\n      let index = state.cart.findIndex(p => p.name === product.name);\n      if (index !== -1) {\n        state.cart[index].quantity++;\n      } else {\n        state.cart.push({name: product.name, quantity: 1});\n      }\n    },\n    removeFromCart(state, product) {\n      let index = state.cart.findIndex(p => p.name === product.name);\n      if (index !== -1) {\n        state.cart[index].quantity--;\n        if (state.cart[index].quantity === 0) state.cart.splice(index, 1);\n      }\n    }\n  },\n  actions: {\n    loadProducts(context) {\n      fetch(baseURL + \"v1/products\")\n          .then((res) => {\n            //console.log(res.json());\n            return res.json();\n          })\n          .then((data) => {\n            //console.log(data);\n            context.commit('setProducts', data);\n          }).catch(error => {\n        console.error(error);\n      });\n    }\n  },\n})"],"mappings":"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"}]}